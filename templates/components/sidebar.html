<!-- Sidebar Navigation Component -->
{% set active_page = active_page|default('') %}
<nav class="fixed left-0 top-0 h-full w-1/5 bg-gray-100 z-50 overflow-y-auto max-md:hidden">
    <div class="flex flex-col h-full items-start py-7 pl-7 w-full">
        <!-- Logo -->
        <header class="flex gap-1 text-2xl font-bold leading-none">
            <a href="{{ url_for('dashboard') }}" class="cursor-pointer hover:opacity-80 transition-opacity duration-200">
                <img
                    src="{{ url_for('static', filename='logo.png') }}"
                    alt="CommerciaAI Logo"
                    class="object-contain shrink-0 aspect-square w-[70px]"
                    onerror="this.style.display='none'"
                />
            </a>
            <div class="my-auto basis-auto">
                <span style="font-weight: 400; font-style: italic; color: rgba(10, 67, 141, 1);">Commercia</span><span style="font-weight: 400; font-style: italic; color: rgba(47, 156, 178, 1);">AI</span>
            </div>
        </header>

        <!-- Navigation Label -->
        <p class="mt-3.5 text-sm font-light text-zinc-500">Navigation</p>

        <!-- Dashboard Navigation Item -->
        {% if active_page == 'dashboard' %}
        <div class="flex gap-5 justify-between mt-3 w-full whitespace-nowrap">
            <div class="flex gap-3.5 items-center my-auto">
                <i class="ti ti-dashboard text-xl text-neutral-700"></i>
                <span class="self-stretch my-auto text-sm font-bold text-neutral-700">Dashboard</span>
            </div>
            <div class="flex shrink-0 w-0.5 h-12 bg-sky-500"></div>
        </div>
        {% else %}
        <a href="{{ url_for('dashboard') }}" class="flex gap-3.5 mt-3 text-zinc-500 hover:text-neutral-700 transition-colors">
            <i class="ti ti-dashboard text-xl"></i>
            <span class="text-sm font-bold">Dashboard</span>
        </a>
        {% endif %}

        <!-- Analyse Facture Navigation Item -->
        {% if active_page == 'import_page' %}
        <div class="flex gap-5 justify-between mt-3 w-full whitespace-nowrap">
            <div class="flex gap-3.5 items-center my-auto">
                <i class="ti ti-file-analytics text-xl text-neutral-700"></i>
                <span class="self-stretch my-auto text-sm font-bold text-neutral-700">Analyse Facture</span>
            </div>
            <div class="flex shrink-0 w-0.5 h-12 bg-sky-500"></div>
        </div>
        {% else %}
        <a href="{{ url_for('import_page') }}" class="flex gap-3.5 mt-4 text-zinc-500 hover:text-neutral-700 transition-colors">
            <i class="ti ti-file-analytics text-xl"></i>
            <span class="text-sm font-bold">Analyse Facture</span>
        </a>
        {% endif %}

        <!-- Mes Factures Navigation Item -->
        {% if active_page == 'mes_factures' %}
        <div class="flex gap-5 justify-between mt-3 w-full whitespace-nowrap">
            <div class="flex gap-3.5 items-center my-auto">
                <i class="ti ti-receipt text-xl text-neutral-700"></i>
                <span class="self-stretch my-auto text-sm font-bold text-neutral-700">Mes Factures</span>
            </div>
            <div class="flex shrink-0 w-0.5 h-12 bg-sky-500"></div>
        </div>
        {% else %}
        <a href="{{ url_for('mes_factures') }}" class="flex gap-3.5 mt-7 text-zinc-500 hover:text-neutral-700 transition-colors">
            <i class="ti ti-receipt text-xl"></i>
            <span class="text-sm font-bold">Mes Factures</span>
        </a>
        {% endif %}

        <!-- Fournisseurs Navigation Item -->
        {% if active_page == 'fournisseurs' %}
        <div class="flex gap-5 justify-between mt-3 w-full whitespace-nowrap">
            <div class="flex gap-3.5 items-center my-auto">
                <i class="ti ti-users text-xl text-neutral-700"></i>
                <span class="self-stretch my-auto text-sm font-bold text-neutral-700">Fournisseurs</span>
            </div>
            <div class="flex shrink-0 w-0.5 h-12 bg-sky-500"></div>
        </div>
        {% else %}
        <a href="{{ url_for('fournisseurs') }}" class="flex gap-3.5 mt-7 text-zinc-500 hover:text-neutral-700 transition-colors">
            <i class="ti ti-users text-xl"></i>
            <span class="text-sm font-bold">Fournisseurs</span>
        </a>
        {% endif %}

        <!-- Support Navigation Item -->
        {% if active_page == 'support' %}
        <div class="flex gap-5 justify-between mt-7 w-full whitespace-nowrap">
            <div class="flex gap-3.5 items-center my-auto">
                <i class="ti ti-help-circle text-xl text-neutral-700"></i>
                <span class="self-stretch my-auto text-sm font-bold text-neutral-700">Support</span>
            </div>
            <div class="flex shrink-0 w-0.5 h-12 bg-sky-500"></div>
        </div>
        {% else %}
        <a href="{{ url_for('support') }}" class="flex gap-3.5 mt-7 text-zinc-500 hover:text-neutral-700 transition-colors">
            <i class="ti ti-help-circle text-xl"></i>
            <span class="text-sm font-bold">Support</span>
        </a>
        {% endif %}

        <!-- Settings Navigation Item -->
        {% if active_page == 'settings' %}
        <div class="flex gap-5 justify-between mt-7 w-full whitespace-nowrap">
            <div class="flex gap-3.5 items-center my-auto">
                <i class="ti ti-settings text-xl text-neutral-700"></i>
                <span class="self-stretch my-auto text-sm font-bold text-neutral-700">Paramètres</span>
            </div>
            <div class="flex shrink-0 w-0.5 h-12 bg-sky-500"></div>
        </div>
        {% else %}
        <a href="{{ url_for('settings') }}" class="flex gap-3.5 mt-7 text-zinc-500 hover:text-neutral-700 transition-colors">
            <i class="ti ti-settings text-xl"></i>
            <span class="text-sm font-bold">Paramètres</span>
        </a>
        {% endif %}

        <!-- User Profile -->
        <div class="flex gap-3.5 mt-auto mb-4 pt-4 border-t border-gray-300 w-full">
            <i class="ti ti-user text-xl text-zinc-500"></i>
            <div class="flex flex-col">
                <span class="text-sm font-bold text-zinc-800">{{ session.get('user', 'Utilisateur') }}</span>
                <a href="{{ url_for('logout') }}" class="text-xs text-zinc-500 hover:text-zinc-700">Déconnexion</a>
            </div>
        </div>
    </div>
</nav>

